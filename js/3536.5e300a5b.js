"use strict";(self["webpackChunkrrhh20"]=self["webpackChunkrrhh20"]||[]).push([[3536],{73536:(e,a,l)=>{l.r(a),l.d(a,{default:()=>R});var t=l(59835),s=l(61957),o=l(60499),n=l(86970),r=l(50977),c=l(49994),i=l(18910);const u={class:"page-section q-mt-lg"},d={class:"container-fluid"},m={class:"row justify-center q-col-gutter-md"},p={class:"col-12 col-sm-6 col-md-3 comp-grid"},v={class:"row justify-center q-col-gutter-md items-center"},f=(0,t._)("div",{class:"text-h6"},"Inicio de sesión de usuario",-1),w={class:"row q-mb-md"},b={class:"col-6"},g=(0,t.Uk)(" Recuérdame"),_={class:"col-6"},q=(0,t.Uk)(" Restablecer la contraseña"),h={class:"text-center"},y={class:"row justify-between items-center"},x=(0,t._)("div",{class:"col"}," ¿No tienes una cuenta? ",-1),W={class:"col-auto"},k={props:{pageName:{type:String,default:"index"},routeName:{type:String,default:"index"},isSubPage:{type:Boolean,default:!1}},setup(e){const a=(0,i.yj)(),l=(0,i.tv)(),k=(0,c.a)(),U=((0,r.q)(),(0,o.qj)({username:"",password:""})),S=((0,o.iH)(!0),(0,o.iH)(!1)),Q=(0,o.iH)(""),V=(0,o.iH)(!1);async function Z(){try{S.value=!0,Q.value="";let e="/auth/login",t={formData:U,rememberUser:V.value,url:e};const s=await k.login(t);if(S.value=!1,s.token){let e=a.query.nexturl||"/home";l.go(e)}else l.push(s.nextpage)}catch(t){var e;S.value=!1,Q.value=(null===(e=t.request)||void 0===e?void 0:e.response)||"Unable to establish connection..."}}return(a,l)=>{const r=(0,t.up)("q-avatar"),c=(0,t.up)("q-card"),i=(0,t.up)("q-icon"),k=(0,t.up)("q-input"),j=(0,t.up)("q-checkbox"),C=(0,t.up)("q-btn"),I=(0,t.up)("q-banner"),N=(0,t.up)("q-form"),P=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(P,{class:"main-page",id:"index-page"},{default:(0,t.w5)((()=>[(0,t._)("section",u,[(0,t._)("div",d,[(0,t._)("div",m,[(0,t._)("div",p,[(0,t.Wm)(c,{flat:e.isSubPage,class:"q-pa-md nice-shadow-16"},{default:(0,t.w5)((()=>[(0,t._)("div",v,[(0,t._)("div",null,[(0,t.Wm)(r,{"text-color":"primary","font-size":"48px",icon:"account_circle"})]),f])])),_:1},8,["flat"]),(0,t.Wm)(c,{flat:e.isSubPage,class:"q-my-md q-pa-md nice-shadow-16 nice-shadow-16"},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(N,{ref:"observer",onSubmit:l[4]||(l[4]=(0,s.iM)((e=>Z()),["prevent"]))},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{class:"q-mb-md",label:"Nombre de usuario",outlined:"",dense:"",placeholder:"Nombre de usuario",modelValue:(0,o.SU)(U).username,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,o.SU)(U).username=e),modelModifiers:{trim:!0},required:"required",type:"text"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(i,{name:"account_circle"})])),_:1},8,["modelValue"]),(0,t.Wm)(k,{label:"Contraseña",class:"q-mb-md",placeholder:"Contraseña",required:"required",modelValue:(0,o.SU)(U).password,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,o.SU)(U).password=e),type:"password"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(i,{name:"lock"})])),_:1},8,["modelValue"]),(0,t._)("div",w,[(0,t._)("div",b,[(0,t.Wm)(j,{modelValue:V.value,"onUpdate:modelValue":l[2]||(l[2]=e=>V.value=e)},{default:(0,t.w5)((()=>[g])),_:1},8,["modelValue"])]),(0,t._)("div",_,[(0,t.Wm)(C,{to:"/index/forgotpassword",class:"text-danger",flat:"","no-caps":"",color:"negative"},{default:(0,t.w5)((()=>[q])),_:1})])]),(0,t.Wm)(s.uT,{appear:"","enter-active-class":"animated bounceIn","leave-active-class":"animated fadeOut"},{default:(0,t.w5)((()=>[Q.value?((0,t.wg)(),(0,t.j4)(I,{key:0,dense:"","inline-actions":"",rounded:"",class:"bg-red-2 q-my-md"},{avatar:(0,t.w5)((()=>[(0,t.Wm)(i,{color:"red",name:"error"})])),action:(0,t.w5)((()=>[(0,t.Wm)(C,{onClick:l[3]||(l[3]=e=>Q.value=null),dense:"",flat:"",icon:"close"})])),default:(0,t.w5)((()=>[(0,t.Uk)(" "+(0,n.zw)(Q.value)+" ",1)])),_:1})):(0,t.kq)("",!0)])),_:1}),(0,t._)("div",h,[(0,t.Wm)(C,{label:"Iniciar sesión",loading:S.value,color:"primary",icon:"lock_open",class:"full-width",type:"submit"},null,8,["loading"])])])),_:1},512)])])),_:1},8,["flat"]),(0,t.Wm)(c,{flat:e.isSubPage,class:"q-pa-md nice-shadow-16"},{default:(0,t.w5)((()=>[(0,t._)("div",y,[x,(0,t._)("div",W,[(0,t.Wm)(C,{icon:"account_box",label:"Registro",color:"positive",class:"full-width",to:"/index/register"})])])])),_:1},8,["flat"])])])])])])),_:1})}}};var U=l(69885),S=l(44458),Q=l(61357),V=l(8326),Z=l(66611),j=l(22857),C=l(11221),I=l(68879),N=l(47128),P=l(69984),H=l.n(P);const B=k,R=B;H()(k,"components",{QPage:U.Z,QCard:S.Z,QAvatar:Q.Z,QForm:V.Z,QInput:Z.Z,QIcon:j.Z,QCheckbox:C.Z,QBtn:I.Z,QBanner:N.Z})}}]);