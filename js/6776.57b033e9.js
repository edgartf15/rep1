"use strict";(self["webpackChunkrrhh20"]=self["webpackChunkrrhh20"]||[]).push([[6776],{46776:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ue});var l=a(59835),r=a(60499),o=a(86970),i=a(61957),n=a(65457),s=a(50977),u=a(49994),d=a(55621),c=a(44858);const p={class:"main-page",id:""},m={key:0,class:"page-section q-pa-md"},g={class:"container-fluid"},w={class:"row justify-between items-center q-col-gutter-md"},y=(0,l._)("div",{class:"col col-md-auto"},[(0,l._)("div",{class:"text-h6 text-primary"}," Estructura Organizacional ")],-1),_={class:"col-md-auto"},f=(0,l.Uk)(" Generar Estructura "),k={class:"col-md-auto comp-grid"},v=(0,l.Uk)(" Agregar Registro "),S={class:"col-md-auto comp-grid"},q={class:"row wrap items-center justify-between"},U=(0,l._)("div",{class:"q-mb-sm text-bold text-primary"}," Filtrar por nivel ",-1),b={class:"col-md-auto col-12"},h={class:"page-section"},W={class:"container-fluid"},x={class:"row q-col-gutter-x-md"},B={class:"col comp-grid"},Z={class:"row q-mb-md q-gutter-sm"},Q={key:0,class:"q-px-sm nice-shadow-16"},C=(0,l.Uk)(" Buscar: "),V={key:1,class:"q-px-sm nice-shadow-16"},D=(0,l._)("strong",null,"Nivel",-1),z={class:"row q-col-gutter-xs justify-end"},j=(0,l.Uk)("Vista"),I=(0,l.Uk)("Edicion"),P=(0,l.Uk)("Eliminar"),R={class:"row justify-center"},E=(0,l._)("div",{class:"text-grey text-h6 text-center"}," ningún record fue encontrado ",-1),T={key:3,class:""},F={class:"q-pa-md"},N={class:"row items-center justify-between"},$={class:"row items-center q-col-gutter-md"},K={key:0},A=(0,l.Uk)("Delete Selected Items"),H={key:1},L={key:0,class:"row items-center justify-between"},M={class:"col-auto"},O={key:0},G={props:{primaryKey:{type:String,default:"idunidad"},pageName:{type:String,default:"estructura_org"},routeName:{type:String,default:"estructura_orglist"},apiPath:{type:String,default:"estructura_org/index"},paginate:{type:Boolean,default:!0},scrollIntoView:{type:Boolean,default:!0},isSubPage:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showBreadcrumbs:{type:Boolean,default:!0},exportButton:{type:Boolean,default:!0},importButton:{type:Boolean,default:!0},multiCheckbox:{type:Boolean,default:!0},emptyRecordMsg:{type:String,default:"ningún record fue encontrado"},titleBeforeDelete:{type:String,default:"Eliminar el registro"},msgBeforeDelete:{type:String,default:"¿Seguro que quieres borrar este registro?"},msgAfterDelete:{type:String,default:"Grabar eliminado con éxito"},page:{type:Number,default:1},limit:{type:Number,default:10},mergeRecords:{type:Boolean,default:!1},search:{type:String,default:""},fieldName:null,fieldValue:null,sortBy:{type:String,default:""},sortType:{type:String,default:"desc"},exportFormats:{type:Array,default:()=>["pdf","excel","csv"]}},setup(e){const t=e,a=(0,s.q)(),G=(0,u.a)(),J={filters:{estructura_org_nivel:{value:"",valueType:"single",options:a.menus.estructura_orgnivelItems}},pagination:{page:t.page,rowsPerPage:t.limit,rowsNumber:0,sortBy:t.sortBy,descending:"desc"==t.sortType},searchText:t.search,primaryKey:t.primaryKey},X=(0,c.u)(t.pageName,J),Y=(0,d.s)({store:X,props:t}),{records:ee,filters:te,totalRecords:ae,selectedItems:le,expandedRows:re,pagination:oe}=(0,r.BK)(X.state),{pageReady:ie,loading:ne,searchText:se}=(0,r.BK)(Y.state),{totalPages:ue,recordsPosition:de}=Y.computedProps,{load:ce,exportPage:pe,clearSearch:me,setPagination:ge,deleteItem:we,isCurrentRecord:ye,removeFilter:_e,getFilterLabel:fe,filterHasValue:ke,importComplete:ve}=Y.methods,Se=(0,l.Fl)({get:function(){return"Estructura Organizacional"}});return(0,n.Z)((()=>({title:Se.value}))),(0,l.bv)((()=>{ce()})),(t,n)=>{const s=(0,l.up)("q-icon"),u=(0,l.up)("q-btn"),d=(0,l.up)("q-btn-toggle"),c=(0,l.up)("q-card"),J=(0,l.up)("q-input"),X=(0,l.up)("q-chip"),Y=(0,l.up)("q-breadcrumbs-el"),re=(0,l.up)("q-breadcrumbs"),ce=(0,l.up)("q-checkbox"),Se=(0,l.up)("q-td"),qe=(0,l.up)("q-item-section"),Ue=(0,l.up)("q-item"),be=(0,l.up)("q-list"),he=(0,l.up)("q-menu"),We=(0,l.up)("q-tr"),xe=(0,l.up)("q-table"),Be=(0,l.up)("q-spinner"),Ze=(0,l.up)("q-inner-loading"),Qe=(0,l.up)("q-card-section"),Ce=(0,l.up)("q-separator"),Ve=(0,l.up)("q-tooltip"),De=(0,l.up)("import-data"),ze=(0,l.up)("q-pagination"),je=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.iD)("main",p,[e.showHeader?((0,l.wg)(),(0,l.iD)("section",m,[(0,l._)("div",g,[(0,l._)("div",w,[y,(0,l._)("div",_,[(0,r.SU)(G).canView("/estructura_org/add")?((0,l.wg)(),(0,l.j4)(u,{key:0,rounded:!1,size:"",color:"primary","no-caps":"",unelevated:"",onClick:n[0]||(n[0]=e=>(0,r.SU)(a).openPageDialog({page:"estructura_org/add",url:"/estructura_org/add",closeBtn:!0})),class:""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"add"}),f])),_:1})):(0,l.kq)("",!0)]),(0,l._)("div",k,[(0,l.Wm)(u,{rounded:!1,size:"",color:"primary","no-caps":"",unelevated:"",onClick:n[1]||(n[1]=e=>(0,r.SU)(a).openPageDialog({page:"estructura_org/agregarorg",url:"/estructura_org/agregarorg",closeBtn:!0})),class:""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"add"}),v])),_:1})]),(0,l._)("div",S,[(0,l.Wm)(c,{flat:e.isSubPage,class:"nice-shadow-16"},{default:(0,l.w5)((()=>[(0,l._)("div",q,[U,(0,l._)("div",null,[(0,l.Wm)(d,{"no-caps":"",glossy:"",unelevated:"",modelValue:(0,r.SU)(te).estructura_org_nivel.value,"onUpdate:modelValue":n[2]||(n[2]=e=>(0,r.SU)(te).estructura_org_nivel.value=e),"toggle-color":"primary",options:(0,r.SU)(te).estructura_org_nivel.options},null,8,["modelValue","options"])])])])),_:1},8,["flat"])]),(0,l._)("div",b,[(0,l.Wm)(J,{debounce:"1000",placeholder:"Buscar",modelValue:(0,r.SU)(se),"onUpdate:modelValue":n[3]||(n[3]=e=>(0,r.dq)(se)?se.value=e:null)},{append:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"search"})])),_:1},8,["modelValue"])])])])])):(0,l.kq)("",!0),(0,l._)("section",h,[(0,l._)("div",W,[(0,l._)("div",x,[(0,l._)("div",B,[(0,l._)("div",Z,[(0,r.SU)(se)?((0,l.wg)(),(0,l.iD)("div",Q,[C,(0,l.Wm)(X,{icon:"search",removable:"",onRemove:n[4]||(n[4]=e=>(0,r.SU)(me)()),label:(0,r.SU)(se)},null,8,["label"])])):(0,l.kq)("",!0),(0,r.SU)(ke)((0,r.SU)(te).estructura_org_nivel)?((0,l.wg)(),(0,l.iD)("div",V,[D,(0,l.Wm)(X,{removable:"",onRemove:n[5]||(n[5]=e=>(0,r.SU)(_e)((0,r.SU)(te).estructura_org_nivel)),label:(0,r.SU)(fe)((0,r.SU)(te).estructura_org_nivel)},null,8,["label"])])):(0,l.kq)("",!0)]),(0,l._)("div",null,[e.showBreadcrumbs&&t.$route.query.tag?((0,l.wg)(),(0,l.j4)(re,{key:0,class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(Y,{icon:"arrow_back",class:"text-capitalize",label:t.$route.query.tag,to:"/estructura_org"},null,8,["label"]),(0,l.Wm)(Y,{label:t.$route.query.label},null,8,["label"])])),_:1})):(0,l.kq)("",!0),(0,l._)("div",null,[(0,l.Wm)(xe,{flat:!0,"table-header-class":"text-h4 bg-grey-2",bordered:!1,columns:(0,r.SU)(a).menus.EstructuraOrgListHeaderItems,rows:(0,r.SU)(ee),"binary-state-sort":!0,separator:"horizontal",dense:!0,selected:(0,r.SU)(le),"onUpdate:selected":n[6]||(n[6]=e=>(0,r.dq)(le)?le.value=e:null),selection:"multiple","row-key":"idunidad",pagination:(0,r.SU)(oe),"onUpdate:pagination":n[7]||(n[7]=e=>(0,r.dq)(oe)?oe.value=e:null),"hide-bottom":"",onRequest:(0,r.SU)(ge),loading:(0,r.SU)(ne)},{body:(0,l.w5)((e=>[(0,l.Wm)(We,{class:(0,o.C_)({selected:(0,r.SU)(ye)(e.row)}),props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(Se,{"auto-width":""},{default:(0,l.w5)((()=>[(0,l.Wm)(ce,{dense:"",modelValue:e.selected,"onUpdate:modelValue":t=>e.selected=t},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,l.Wm)(Se,{key:"btnactions",props:e,"auto-width":""},{default:(0,l.w5)((()=>[(0,l._)("div",z,[(0,l.Wm)(u,{icon:"menu",padding:"xs",round:"",flat:"",color:"grey"},{default:(0,l.w5)((()=>[(0,l.Wm)(he,{"auto-close":"","transition-show":"flip-right","transition-hide":"flip-left",self:"center middle",anchor:"center middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(be,{dense:"",rounded:"",nav:""},{default:(0,l.w5)((()=>[(0,r.SU)(G).canView("estructura_org/view")?(0,l.wy)(((0,l.wg)(),(0,l.j4)(Ue,{key:0,link:"",clickable:"",to:`/estructura_org/view/${e.row.idunidad}`},{default:(0,l.w5)((()=>[(0,l.Wm)(qe,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{color:"primary",size:"sm",name:"visibility"})])),_:1}),(0,l.Wm)(qe,null,{default:(0,l.w5)((()=>[j])),_:1})])),_:2},1032,["to"])),[[je]]):(0,l.kq)("",!0),(0,r.SU)(G).canManage("estructura_org/edit",e.row.idunidad)?(0,l.wy)(((0,l.wg)(),(0,l.j4)(Ue,{key:1,link:"",clickable:"",onClick:t=>(0,r.SU)(a).openPageDialog({page:"estructura_org/edicionorg",url:`/estructura_org/edicionorg/${e.row.idunidad}`,closeBtn:!0})},{default:(0,l.w5)((()=>[(0,l.Wm)(qe,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{color:"positive",size:"sm",name:"edit"})])),_:1}),(0,l.Wm)(qe,null,{default:(0,l.w5)((()=>[I])),_:1})])),_:2},1032,["onClick"])),[[je]]):(0,l.kq)("",!0),(0,r.SU)(G).canManage("estructura_org/delete",e.row.idunidad)?(0,l.wy)(((0,l.wg)(),(0,l.j4)(Ue,{key:2,link:"",clickable:"",onClick:t=>(0,r.SU)(we)(e.row.idunidad)},{default:(0,l.w5)((()=>[(0,l.Wm)(qe,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{color:"negative",size:"sm",name:"delete_sweep"})])),_:1}),(0,l.Wm)(qe,null,{default:(0,l.w5)((()=>[P])),_:1})])),_:2},1032,["onClick"])),[[je]]):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),_:2},1032,["props"]),(0,l.Wm)(Se,{key:"nivel",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.nivel),1)])),_:2},1032,["props"]),(0,l.Wm)(Se,{key:"descripcion",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.descripcion),1)])),_:2},1032,["props"]),(0,l.Wm)(Se,{key:"dependencia",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.dependencia),1)])),_:2},1032,["props"]),(0,l.Wm)(Se,{key:"ley",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.ley),1)])),_:2},1032,["props"])])),_:2},1032,["class","props"])])),_:1},8,["columns","rows","selected","pagination","onRequest","loading"]),(0,l._)("div",R,[(0,l.Wm)(Se)])]),(0,r.SU)(ne)?((0,l.wg)(),(0,l.j4)(Ze,{key:1,showing:(0,r.SU)(ne)},{default:(0,l.w5)((()=>[(0,l.Wm)(Be,{color:"primary",size:"30px"})])),_:1},8,["showing"])):(0,l.kq)("",!0),(0,r.SU)(ie)&&!(0,r.SU)(ee).length?((0,l.wg)(),(0,l.j4)(c,{key:2,flat:t.$q.screen.gt.md},{default:(0,l.w5)((()=>[(0,l.Wm)(Qe,null,{default:(0,l.w5)((()=>[E])),_:1})])),_:1},8,["flat"])):(0,l.kq)("",!0),e.showFooter?((0,l.wg)(),(0,l.iD)("div",T,[(0,l.Wm)(Ce),(0,l.wy)((0,l._)("div",F,[(0,l._)("div",N,[(0,l._)("div",$,[(0,r.SU)(G).canView("estructura_org/delete")?((0,l.wg)(),(0,l.iD)("div",K,[(0,r.SU)(le).length?((0,l.wg)(),(0,l.j4)(u,{key:0,round:"",flat:"","no-caps":"",unelevated:"",color:"negative",onClick:n[8]||(n[8]=e=>(0,r.SU)(we)((0,r.SU)(le))),icon:"delete_sweep",class:"q-my-xs",title:"Eliminar seleccionado"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ve,null,{default:(0,l.w5)((()=>[A])),_:1})])),_:1})):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,l._)("div",null,[e.exportButton?((0,l.wg)(),(0,l.j4)(u,{key:0,rounded:!1,"no-caps":"",unelevated:"",color:"accent",class:"q-my-xs",onClick:n[9]||(n[9]=e=>(0,r.SU)(pe)()),label:"Exportar",title:"Exportar",icon:"print"})):(0,l.kq)("",!0)]),(0,r.SU)(G).canView("estructura_org/importdata")?((0,l.wg)(),(0,l.iD)("div",H,[(0,l.Wm)(De,{label:"Seleccione un archivo para importar",ref:"dataimport","upload-path":"estructura_org/importdata",onImportComplete:(0,r.SU)(ve)},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"q-my-xs",onClick:n[10]||(n[10]=e=>t.$refs.dataimport.openDialog()),icon:"import_export",rounded:!1,"no-caps":"",unelevated:"",color:"accent",label:"Importar"})])),_:1},8,["onImportComplete"])])):(0,l.kq)("",!0)]),e.paginate&&(0,r.SU)(ae)>0?((0,l.wg)(),(0,l.iD)("div",L,[(0,l._)("div",M,[(0,l.Wm)(X,{square:""},{default:(0,l.w5)((()=>[(0,l.Uk)("Archivos "+(0,o.zw)((0,r.SU)(de))+" de "+(0,o.zw)((0,r.SU)(ae)),1)])),_:1})]),(0,r.SU)(ue)>1?((0,l.wg)(),(0,l.iD)("div",O,[(0,l.Wm)(ze,{color:"primary",modelValue:(0,r.SU)(oe).page,"onUpdate:modelValue":n[11]||(n[11]=e=>(0,r.SU)(oe).page=e),"direction-links":!0,"boundary-links":!0,"max-pages":5,"boundary-numbers":!0,max:(0,r.SU)(ue)},null,8,["modelValue","max"])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])],512),[[i.F8,(0,r.SU)(ie)]])])):(0,l.kq)("",!0)])])])])])])}}};var J=a(68879),X=a(22857),Y=a(44458),ee=a(1389),te=a(66611),ae=a(57691),le=a(72605),re=a(28052),oe=a(81463),ie=a(31233),ne=a(67220),se=a(11221),ue=a(56362),de=a(13246),ce=a(490),pe=a(76749),me=a(60854),ge=a(13902),we=a(63190),ye=a(50926),_e=a(46858),fe=a(80996),ke=a(51136),ve=a(69984),Se=a.n(ve);const qe=G,Ue=qe;Se()(G,"components",{QBtn:J.Z,QIcon:X.Z,QCard:Y.Z,QBtnToggle:ee.Z,QInput:te.Z,QChip:ae.Z,QBreadcrumbs:le.Z,QBreadcrumbsEl:re.Z,QTable:oe.Z,QTr:ie.Z,QTd:ne.Z,QCheckbox:se.Z,QMenu:ue.Z,QList:de.Z,QItem:ce.Z,QItemSection:pe.Z,QInnerLoading:me.Z,QSpinner:ge.Z,QCardSection:we.Z,QSeparator:ye.Z,QTooltip:_e.Z,QPagination:fe.Z}),Se()(G,"directives",{Ripple:ke.Z})}}]);