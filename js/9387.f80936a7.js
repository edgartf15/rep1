"use strict";(self["webpackChunkrrhh20"]=self["webpackChunkrrhh20"]||[]).push([[9387],{49387:(e,l,o)=>{o.r(l),o.d(l,{default:()=>we});var r=o(59835),a=o(60499),s=o(61957),i=o(86970),c=o(80339),d=o(65457),t=o(50977),n=o(29601),m=o(44858);const u={class:"main-page",id:""},p={key:0,class:"page-section q-pa-md"},f={class:"container"},g={class:"row items-center q-col-gutter-md"},v={key:0,class:"col-auto"},b=(0,r._)("div",{class:"col col-md-auto"},[(0,r._)("div",{class:"text-h6 text-primary"}," Editar ")],-1),S={class:"page-section"},U={class:"container"},_={class:"row q-col-gutter-x-md"},y={class:"col-md-9 col-12 comp-grid"},h={class:"row q-col-gutter-x-md"},w={class:"col-md-2 col-12"},V={class:"row"},q=(0,r._)("div",{class:"col-sm-3 col-12"}," Nivel ",-1),W={class:"col-sm-9 col-12"},k={class:"col-md-6 col-12"},M={class:"row"},A=(0,r._)("div",{class:"col-sm-3 col-12"}," Denominación ",-1),E={class:"col-sm-9 col-12"},B={class:"col-md-4 col-12"},D={class:"row"},x=(0,r._)("div",{class:"col-sm-3 col-12"}," Haberbásico ",-1),O={class:"col-sm-9 col-12"},F={class:"col-12 col-12"},R={class:"row"},Z=(0,r._)("div",{class:"col-sm-3 col-12"}," Formación Académica ",-1),Q={class:"col-sm-9 col-12"},C={class:"col-md-2 col-12"},H={class:"row"},N=(0,r._)("div",{class:"col-sm-3 col-12"}," Año ",-1),P={class:"col-sm-9 col-12"},z={class:"col-md-2 col-12"},L={class:"row"},I=(0,r._)("div",{class:"col-sm-3 col-12"}," Mes ",-1),T={class:"col-sm-9 col-12"},$={class:"col-md-8 col-12"},j={class:"row"},K=(0,r._)("div",{class:"col-sm-3 col-12"}," Observación ",-1),Y={class:"col-sm-9 col-12"},G={class:"col-md-2 col-12"},J={class:"row"},X=(0,r._)("div",{class:"col-sm-3 col-12"}," Año ",-1),ee={class:"col-sm-9 col-12"},le={class:"col-md-2 col-12"},oe={class:"row"},re=(0,r._)("div",{class:"col-sm-3 col-12"}," Mes ",-1),ae={class:"col-sm-9 col-12"},se={class:"col-md-8 col-12"},ie={class:"row"},ce=(0,r._)("div",{class:"col-sm-3 col-12"}," Observación ",-1),de={class:"col-sm-9 col-12"},te={key:0,class:"text-center q-my-md"},ne={key:1,style:{"min-height":"200px"},class:"q-pa-sm text-center relative-position"},me={props:{id:[String,Number],pageName:{type:String,default:"perfilreferencial"},routeName:{type:String,default:"perfilreferencialedit"},pagePath:{type:String,default:"perfilreferencial/edit"},apiPath:{type:String,default:"perfilreferencial/edit"},submitButtonLabel:{type:String,default:"Actualizar"},msgTitle:{type:String,default:"Actualizar registro"},msgBeforeSave:{type:String,default:""},msgAfterSave:{type:String,default:"Registro actualizado con éxito"},formValidationError:{type:String,default:"El formulario no es válido"},formValidationMsg:{type:String,default:"Por favor complete el formulario"},showHeader:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},redirect:{type:Boolean,default:!0},isSubPage:{type:Boolean,default:!1}},setup(e){const l=e,o=(0,m.u)(l.pageName),me=(0,t.q)(),ue=Object.assign({nivelref:"",denomref:"",haberbasicoref:"",formacadref:"",anioelg:"",meselg:"",obselg:"",anioele:"",mesele:"",obsele:"",codgestion:"",idref:""},l.pageData),pe=(0,a.qj)({...ue});function fe(e){me.flashMsg(l.msgTitle,l.msgAfterSave),me.isDialogOpen()?me.closeDialogs():l.redirect&&me.navigateTo("/perfilreferencial")}const ge=(0,r.Fl)((()=>({nivelref:{numeric:c.uR},haberbasicoref:{numeric:c.uR},anioelg:{numeric:c.uR},meselg:{numeric:c.uR},anioele:{numeric:c.uR},mesele:{numeric:c.uR}}))),ve=(0,n.C)({store:o,props:l,formData:pe,rules:ge,afterSubmit:fe}),{saving:be,loading:Se,pageReady:Ue}=(0,a.BK)(ve.state),{currentRecord:_e}=(0,a.BK)(o.state),{load:ye,submitForm:he,isFieldValid:we,getFieldError:Ve,mapOptionField:qe}=ve.methods;return(0,d.Z)((()=>({title:"Editar"}))),(0,r.bv)((()=>{ye()})),(l,o)=>{const c=(0,r.up)("q-icon"),d=(0,r.up)("q-btn"),t=(0,r.up)("q-select"),n=(0,r.up)("api-data-source"),m=(0,r.up)("q-input"),me=(0,r.up)("q-spinner-oval"),ue=(0,r.up)("q-form"),fe=(0,r.up)("q-card"),ge=(0,r.up)("q-inner-loading");return(0,r.wg)(),(0,r.iD)("main",u,[(0,a.SU)(Ue)?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[e.showHeader?((0,r.wg)(),(0,r.iD)("section",p,[(0,r._)("div",f,[(0,r._)("div",g,[e.isSubPage?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",v,[(0,r.Wm)(d,{onClick:o[0]||(o[0]=e=>l.$router.go(-1)),flat:"",rounded:!1,size:"",color:"primary","no-caps":"",unelevated:"",class:""},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{name:"arrow_back"})])),_:1})])),b])])])):(0,r.kq)("",!0),(0,r._)("section",S,[(0,r._)("div",U,[(0,r._)("div",_,[(0,r._)("div",y,[(0,r._)("div",null,[(0,r.Wm)(fe,{flat:e.isSubPage,class:"q-pa-md nice-shadow-16"},{default:(0,r.w5)((()=>[(0,r.Wm)(ue,{ref:"observer",onSubmit:o[16]||(o[16]=(0,s.iM)((e=>(0,a.SU)(he)()),["prevent"]))},{default:(0,r.w5)((()=>[(0,r._)("div",h,[(0,r._)("div",w,[(0,r._)("div",V,[q,(0,r._)("div",W,[(0,r.Wm)(n,{onLoaded:o[3]||(o[3]=e=>(0,a.SU)(qe)(e,"nivelref")),"api-path":"components_data/nivelref_option_list"},{default:(0,r.w5)((e=>[(0,r.Wm)(t,{"onUpdate:modelValue":[o[1]||(o[1]=e=>l.nivelrefAutofill(e)),o[2]||(o[2]=e=>(0,a.SU)(pe).nivelref=e)],loading:e.loading,ref:"ctrlnivelref","emit-value":"","map-options":"",modelValue:(0,a.SU)(pe).nivelref,options:e.response,label:"Nivel",error:(0,a.SU)(we)("nivelref"),"error-message":(0,a.SU)(Ve)("nivelref")},null,8,["loading","modelValue","options","error","error-message"])])),_:1})])])]),(0,r._)("div",k,[(0,r._)("div",M,[A,(0,r._)("div",E,[(0,r.Wm)(n,{onLoaded:o[5]||(o[5]=e=>(0,a.SU)(pe).denomref=""),"load-on-mount":!1,"api-path":`components_data/denomref_option_list?lookup_nivelref=${(0,a.SU)(pe).nivelref}`},{default:(0,r.w5)((e=>[(0,r.Wm)(t,{loading:e.loading,ref:"ctrldenomref","emit-value":"","map-options":"",modelValue:(0,a.SU)(pe).denomref,"onUpdate:modelValue":o[4]||(o[4]=e=>(0,a.SU)(pe).denomref=e),options:e.response,label:"Denominación",error:(0,a.SU)(we)("denomref"),"error-message":(0,a.SU)(Ve)("denomref")},null,8,["loading","modelValue","options","error","error-message"])])),_:1},8,["api-path"])])])]),(0,r._)("div",B,[(0,r._)("div",D,[x,(0,r._)("div",O,[(0,r.Wm)(m,{ref:"ctrlhaberbasicoref",modelValue:(0,a.SU)(pe).haberbasicoref,"onUpdate:modelValue":o[6]||(o[6]=e=>(0,a.SU)(pe).haberbasicoref=e),modelModifiers:{trim:!0},label:"Haberbásico",type:"number",placeholder:"Escribir Haberbásico",step:"0.1",class:"",error:(0,a.SU)(we)("haberbasicoref"),"error-message":(0,a.SU)(Ve)("haberbasicoref")},null,8,["modelValue","error","error-message"])])])]),(0,r._)("div",F,[(0,r._)("div",R,[Z,(0,r._)("div",Q,[(0,r.Wm)(m,{ref:"ctrlformacadref",modelValue:(0,a.SU)(pe).formacadref,"onUpdate:modelValue":o[7]||(o[7]=e=>(0,a.SU)(pe).formacadref=e),modelModifiers:{trim:!0},label:"Formación Académica",type:"text",placeholder:"Escribir Formación Académica",class:"",error:(0,a.SU)(we)("formacadref"),"error-message":(0,a.SU)(Ve)("formacadref")},null,8,["modelValue","error","error-message"])])])]),(0,r._)("div",C,[(0,r._)("div",H,[N,(0,r._)("div",P,[(0,r.Wm)(m,{ref:"ctrlanioelg",modelValue:(0,a.SU)(pe).anioelg,"onUpdate:modelValue":o[8]||(o[8]=e=>(0,a.SU)(pe).anioelg=e),modelModifiers:{trim:!0},label:"Año",type:"number",placeholder:"Escribir Año",step:"any",class:"",error:(0,a.SU)(we)("anioelg"),"error-message":(0,a.SU)(Ve)("anioelg")},null,8,["modelValue","error","error-message"])])])]),(0,r._)("div",z,[(0,r._)("div",L,[I,(0,r._)("div",T,[(0,r.Wm)(m,{ref:"ctrlmeselg",modelValue:(0,a.SU)(pe).meselg,"onUpdate:modelValue":o[9]||(o[9]=e=>(0,a.SU)(pe).meselg=e),modelModifiers:{trim:!0},label:"Mes",type:"number",placeholder:"Escribir Mes",step:"any",class:"",error:(0,a.SU)(we)("meselg"),"error-message":(0,a.SU)(Ve)("meselg")},null,8,["modelValue","error","error-message"])])])]),(0,r._)("div",$,[(0,r._)("div",j,[K,(0,r._)("div",Y,[(0,r.Wm)(m,{ref:"ctrlobselg",modelValue:(0,a.SU)(pe).obselg,"onUpdate:modelValue":o[10]||(o[10]=e=>(0,a.SU)(pe).obselg=e),modelModifiers:{trim:!0},label:"Observación",type:"text",placeholder:"Escribir Observación",class:"",error:(0,a.SU)(we)("obselg"),"error-message":(0,a.SU)(Ve)("obselg")},null,8,["modelValue","error","error-message"])])])]),(0,r._)("div",G,[(0,r._)("div",J,[X,(0,r._)("div",ee,[(0,r.Wm)(m,{ref:"ctrlanioele",modelValue:(0,a.SU)(pe).anioele,"onUpdate:modelValue":o[11]||(o[11]=e=>(0,a.SU)(pe).anioele=e),modelModifiers:{trim:!0},label:"Año",type:"number",placeholder:"Escribir Año",step:"any",class:"",error:(0,a.SU)(we)("anioele"),"error-message":(0,a.SU)(Ve)("anioele")},null,8,["modelValue","error","error-message"])])])]),(0,r._)("div",le,[(0,r._)("div",oe,[re,(0,r._)("div",ae,[(0,r.Wm)(m,{ref:"ctrlmesele",modelValue:(0,a.SU)(pe).mesele,"onUpdate:modelValue":o[12]||(o[12]=e=>(0,a.SU)(pe).mesele=e),modelModifiers:{trim:!0},label:"Mes",type:"number",placeholder:"Escribir Mes",step:"any",class:"",error:(0,a.SU)(we)("mesele"),"error-message":(0,a.SU)(Ve)("mesele")},null,8,["modelValue","error","error-message"])])])]),(0,r._)("div",se,[(0,r._)("div",ie,[ce,(0,r._)("div",de,[(0,r.Wm)(m,{ref:"ctrlobsele",modelValue:(0,a.SU)(pe).obsele,"onUpdate:modelValue":o[13]||(o[13]=e=>(0,a.SU)(pe).obsele=e),modelModifiers:{trim:!0},label:"Observación",type:"text",placeholder:"Escribir Observación",class:"",error:(0,a.SU)(we)("obsele"),"error-message":(0,a.SU)(Ve)("obsele")},null,8,["modelValue","error","error-message"])])])]),(0,r.wy)((0,r._)("input",{name:"ctrlcodgestion",ref:"ctrlcodgestion","onUpdate:modelValue":o[14]||(o[14]=e=>(0,a.SU)(pe).codgestion=e),type:"hidden"},null,512),[[s.nr,(0,a.SU)(pe).codgestion]]),(0,r.wy)((0,r._)("input",{name:"ctrlidref",ref:"ctrlidref","onUpdate:modelValue":o[15]||(o[15]=e=>(0,a.SU)(pe).idref=e),type:"hidden"},null,512),[[s.nr,(0,a.SU)(pe).idref]])]),e.showSubmitButton?((0,r.wg)(),(0,r.iD)("div",te,[(0,r.Wm)(d,{rounded:!1,color:"primary","no-caps":"",unelevated:"",type:"submit","icon-right":"send",loading:(0,a.SU)(be)},{loading:(0,r.w5)((()=>[(0,r.Wm)(me)])),default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.submitButtonLabel)+" ",1)])),_:1},8,["loading"])])):(0,r.kq)("",!0)])),_:1},512),(0,r.WI)(l.$slots,"default",{submit:(0,a.SU)(he),saving:(0,a.SU)(be)})])),_:3},8,["flat"])])])])])])],64)):(0,r.kq)("",!0),(0,a.SU)(Se)?((0,r.wg)(),(0,r.iD)("div",ne,[(0,r.Wm)(ge,{color:"primary",label:"Cargando...",showing:""})])):(0,r.kq)("",!0)])}}};var ue=o(68879),pe=o(22857),fe=o(44458),ge=o(8326),ve=o(32259),be=o(66611),Se=o(62470),Ue=o(60854),_e=o(69984),ye=o.n(_e);const he=me,we=he;ye()(me,"components",{QBtn:ue.Z,QIcon:pe.Z,QCard:fe.Z,QForm:ge.Z,QSelect:ve.Z,QInput:be.Z,QSpinnerOval:Se.Z,QInnerLoading:Ue.Z})}}]);