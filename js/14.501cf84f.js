"use strict";(self["webpackChunkrrhh20"]=self["webpackChunkrrhh20"]||[]).push([[14],{40014:(e,a,o)=>{o.r(a),o.d(a,{default:()=>Se});var l=o(59835),i=o(60499),s=o(61957),r=o(86970),n=o(80339),t=o(44858),c=o(65457),d=o(50977),u=o(45004),m=o(82844);const p={class:"main-page",id:""},_={key:0,class:"page-section q-pa-md"},g={class:"container"},v={class:"row items-center q-col-gutter-md"},f={key:0,class:"col-auto"},S=(0,l._)("div",{class:"col col-md-auto"},[(0,l._)("div",{class:"text-h6 text-primary"}," Agregar nuevo ")],-1),b={class:"page-section"},U={class:"container"},w={class:"row q-col-gutter-x-md"},h={class:"col-md-9 col-12 comp-grid"},y={class:"row q-col-gutter-x-md"},V={class:"col-md-6 col-12"},q={class:"row"},k=(0,l._)("div",{class:"col-sm-3 col-12"}," Fuente ",-1),W={class:"col-sm-9 col-12"},B={class:"col-md-6 col-12"},D={class:"row"},z=(0,l._)("div",{class:"col-sm-3 col-12"}," Nivel ",-1),x={class:"col-sm-9 col-12"},F={class:"col-md-6 col-12"},Z={class:"row"},C=(0,l._)("div",{class:"col-sm-3 col-12"}," Numero Item ",-1),N={class:"col-sm-9 col-12"},Q={class:"col-md-6 col-12"},$={class:"row"},I=(0,l._)("div",{class:"col-sm-3 col-12"}," Haber Básico ",-1),H={class:"col-sm-9 col-12"},L={class:"col-12"},O={class:"row"},E=(0,l._)("div",{class:"col-sm-3 col-12"}," Denominacion del Cargo ",-1),M={class:"col-sm-9 col-12"},P={class:"col-12"},A={class:"row"},R=(0,l._)("div",{class:"col-sm-3 col-12"}," Descripción del puesto ",-1),T={class:"col-sm-9 col-12"},j={class:"col-12"},G={class:"row"},K=(0,l._)("div",{class:"col-sm-3 col-12"}," Unidad Organizacional ",-1),Y={class:"col-sm-9 col-12"},J={class:"col-12"},X={class:"row"},ee=(0,l._)("div",{class:"col-sm-3 col-12"}," Clasificacion ",-1),ae={class:"col-sm-9 col-12"},oe={class:"q-mb-md"},le={class:"col-12"},ie={class:"row"},se={key:0,class:"text-center q-my-md"},re={props:{pageName:{type:String,default:"planilla_presupuestaria"},routeName:{type:String,default:"planilla_presupuestariaagregar"},apiPath:{type:String,default:"planilla_presupuestaria/agregar"},submitButtonLabel:{type:String,default:"Guardar"},formValidationError:{type:String,default:"El formulario no es válido"},formValidationMsg:{type:String,default:"Por favor complete el formulario"},msgTitle:{type:String,default:"Crear registro"},msgAfterSave:{type:String,default:"Grabar agregado exitosamente"},msgBeforeSave:{type:String,default:""},showHeader:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},redirect:{type:Boolean,default:!0},isSubPage:{type:Boolean,default:!1},pageData:{type:Object,default:()=>{}}},setup(e,{expose:a}){const o=e,re=(0,t.u)(o.pageName),ne=(0,d.q)(),te={fuente:"",nivel:"",numero_item:"",haber_basico:"",denominacion_cargo:"",descrip_puesto:"",unidad_organiz:"",clasificacion:"",codgestion:""},ce=(0,i.qj)({...te}),de=(0,l.Fl)((()=>({fuente:{numeric:n.uR},nivel:{numeric:n.uR},numero_item:{numeric:n.uR}}))),ue=(0,m.b)({store:re,props:o,formData:ce,rules:de,beforeSubmit:me,afterSubmit:pe});function me(){return!0}function pe(e){ne.flashMsg(o.msgTitle,o.msgAfterSave),ue.setFormDefaultValues(),ne.isDialogOpen()?ne.closeDialogs():o.redirect&&ne.navigateTo("/planilla_presupuestaria")}const{saving:_e,pageReady:ge}=(0,i.BK)(ue.state),{submitForm:ve,isFieldValid:fe,getFieldError:Se,mapOptionField:be}=ue.methods;async function Ue(e){const a=await u.s.get(`components_data/planilla_presupuestaria_fuente_autofill?value=${e}`),o=a.data[0];o&&(ce.codgestion=o.codgestion)}async function we(e){const a=await u.s.get(`components_data/planilla_presupuestaria_nivel_autofill?value=${e}`),o=a.data[0];o&&(ce.haber_basico=o.haberbasico,ce.den1=o.den1,ce.den2=o.den2,ce.den3=o.den3,ce.den4=o.den4)}async function he(e){const a=await u.s.get(`components_data/planilla_presupuestaria_haber_basico_autofill?value=${e}`);a.data[0]}return(0,c.Z)((()=>({title:"Agregar nuevo"}))),a({page:ue}),(a,o)=>{const n=(0,l.up)("q-icon"),t=(0,l.up)("q-btn"),c=(0,l.up)("q-select"),d=(0,l.up)("api-data-source"),u=(0,l.up)("q-input"),m=(0,l.up)("q-btn-toggle"),re=(0,l.up)("q-spinner-oval"),te=(0,l.up)("q-card"),de=(0,l.up)("q-form");return(0,l.wg)(),(0,l.iD)("main",p,[(0,i.SU)(ge)?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[e.showHeader?((0,l.wg)(),(0,l.iD)("section",_,[(0,l._)("div",g,[(0,l._)("div",v,[e.isSubPage?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",f,[(0,l.Wm)(t,{onClick:o[0]||(o[0]=e=>a.$router.go(-1)),flat:"",rounded:!1,size:"",color:"primary","no-caps":"",unelevated:"",class:""},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{name:"arrow_back"})])),_:1})])),S])])])):(0,l.kq)("",!0),(0,l._)("section",b,[(0,l._)("div",U,[(0,l._)("div",w,[(0,l._)("div",h,[(0,l._)("div",null,[(0,l.Wm)(de,{ref:"observer",onSubmit:o[17]||(o[17]=(0,s.iM)((e=>(0,i.SU)(ve)()),["prevent"]))},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{flat:e.isSubPage,class:"q-pa-md nice-shadow-16"},{default:(0,l.w5)((()=>[(0,l._)("div",y,[(0,l._)("div",V,[(0,l._)("div",q,[k,(0,l._)("div",W,[(0,l.Wm)(d,{onLoaded:o[3]||(o[3]=e=>(0,i.SU)(be)(e,"fuente")),"api-path":"components_data/fuente_option_list_2"},{default:(0,l.w5)((e=>[(0,l.Wm)(c,{"onUpdate:modelValue":[o[1]||(o[1]=e=>Ue(e)),o[2]||(o[2]=e=>(0,i.SU)(ce).fuente=e)],loading:e.loading,ref:"ctrlfuente","emit-value":"","map-options":"",modelValue:(0,i.SU)(ce).fuente,options:e.response,label:"Fuente",error:(0,i.SU)(fe)("fuente"),"error-message":(0,i.SU)(Se)("fuente")},null,8,["loading","modelValue","options","error","error-message"])])),_:1})])])]),(0,l._)("div",B,[(0,l._)("div",D,[z,(0,l._)("div",x,[(0,l.Wm)(d,{onLoaded:o[6]||(o[6]=e=>(0,i.SU)(ce).nivel=""),"load-on-mount":!1,"api-path":`components_data/nivel_option_list_3?lookup_fuente=${(0,i.SU)(ce).fuente}`},{default:(0,l.w5)((e=>[(0,l.Wm)(c,{"onUpdate:modelValue":[o[4]||(o[4]=e=>we(e)),o[5]||(o[5]=e=>(0,i.SU)(ce).nivel=e)],loading:e.loading,ref:"ctrlnivel","emit-value":"","map-options":"",modelValue:(0,i.SU)(ce).nivel,options:e.response,label:"Nivel",error:(0,i.SU)(fe)("nivel"),"error-message":(0,i.SU)(Se)("nivel")},null,8,["loading","modelValue","options","error","error-message"])])),_:1},8,["api-path"])])])]),(0,l._)("div",F,[(0,l._)("div",Z,[C,(0,l._)("div",N,[(0,l.Wm)(u,{ref:"ctrlnumero_item",modelValue:(0,i.SU)(ce).numero_item,"onUpdate:modelValue":o[7]||(o[7]=e=>(0,i.SU)(ce).numero_item=e),modelModifiers:{trim:!0},label:"Numero Item",type:"number",placeholder:"Escribir Numero Item",step:"any",class:"",error:(0,i.SU)(fe)("numero_item"),"error-message":(0,i.SU)(Se)("numero_item")},null,8,["modelValue","error","error-message"])])])]),(0,l._)("div",Q,[(0,l._)("div",$,[I,(0,l._)("div",H,[(0,l.Wm)(u,{"onUpdate:modelValue":[o[8]||(o[8]=e=>he(e)),o[9]||(o[9]=e=>(0,i.SU)(ce).haber_basico=e)],ref:"ctrlhaber_basico",modelValue:(0,i.SU)(ce).haber_basico,modelModifiers:{trim:!0},label:"Haber Básico",type:"text",placeholder:"Escribir Haber Básico",readonly:"",class:"",error:(0,i.SU)(fe)("haber_basico"),"error-message":(0,i.SU)(Se)("haber_basico")},null,8,["modelValue","error","error-message"])])])]),(0,l._)("div",L,[(0,l._)("div",O,[E,(0,l._)("div",M,[(0,l.Wm)(d,{onLoaded:o[11]||(o[11]=e=>(0,i.SU)(ce).denominacion_cargo=""),"load-on-mount":!1,"api-path":`components_data/denominacion_cargo_option_list?lookup_nivel=${(0,i.SU)(ce).nivel}&look_fuente=${(0,i.SU)(ce).fuente}`},{default:(0,l.w5)((e=>[(0,l.Wm)(c,{loading:e.loading,ref:"ctrldenominacion_cargo","emit-value":"","map-options":"",modelValue:(0,i.SU)(ce).denominacion_cargo,"onUpdate:modelValue":o[10]||(o[10]=e=>(0,i.SU)(ce).denominacion_cargo=e),options:e.response,label:"Denominacion del Cargo",error:(0,i.SU)(fe)("denominacion_cargo"),"error-message":(0,i.SU)(Se)("denominacion_cargo")},null,8,["loading","modelValue","options","error","error-message"])])),_:1},8,["api-path"])])])]),(0,l._)("div",P,[(0,l._)("div",A,[R,(0,l._)("div",T,[(0,l.Wm)(u,{ref:"ctrldescrip_puesto",rows:"2",modelValue:(0,i.SU)(ce).descrip_puesto,"onUpdate:modelValue":o[12]||(o[12]=e=>(0,i.SU)(ce).descrip_puesto=e),placeholder:"Descripción",type:"textarea",error:(0,i.SU)(fe)("descrip_puesto"),"error-message":(0,i.SU)(Se)("descrip_puesto")},null,8,["modelValue","error","error-message"])])])]),(0,l._)("div",j,[(0,l._)("div",G,[K,(0,l._)("div",Y,[(0,l.Wm)(d,{onLoaded:o[14]||(o[14]=e=>(0,i.SU)(be)(e,"unidad_organiz")),"api-path":"components_data/unidad_organiz_option_list"},{default:(0,l.w5)((e=>[(0,l.Wm)(c,{loading:e.loading,ref:"ctrlunidad_organiz","emit-value":"","map-options":"",modelValue:(0,i.SU)(ce).unidad_organiz,"onUpdate:modelValue":o[13]||(o[13]=e=>(0,i.SU)(ce).unidad_organiz=e),options:e.response,label:"Unidad Organizacional",error:(0,i.SU)(fe)("unidad_organiz"),"error-message":(0,i.SU)(Se)("unidad_organiz")},null,8,["loading","modelValue","options","error","error-message"])])),_:1})])])]),(0,l._)("div",J,[(0,l._)("div",X,[ee,(0,l._)("div",ae,[(0,l._)("div",oe,[(0,l.Wm)(m,{ref:"ctrlclasificacion",modelValue:(0,i.SU)(ce).clasificacion,"onUpdate:modelValue":o[15]||(o[15]=e=>(0,i.SU)(ce).clasificacion=e),options:(0,i.SU)(ne).menus.clasificacionItems,"toggle-color":"positive",color:"grey-7",rounded:!1,"no-caps":"",unelevated:"",error:(0,i.SU)(fe)("clasificacion"),"error-message":(0,i.SU)(Se)("clasificacion")},null,8,["modelValue","options","error","error-message"])])])])]),(0,l._)("div",le,[(0,l._)("div",ie,[(0,l.kq)("",!0),(0,l.kq)("",!0)])])]),e.showSubmitButton?((0,l.wg)(),(0,l.iD)("div",se,[(0,l.Wm)(t,{type:"submit",rounded:!1,color:"primary","no-caps":"",unelevated:"","icon-right":"send",loading:(0,i.SU)(_e)},{loading:(0,l.w5)((()=>[(0,l.Wm)(re)])),default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.submitButtonLabel)+" ",1)])),_:1},8,["loading"])])):(0,l.kq)("",!0)])),_:1},8,["flat"])])),_:1},512),(0,l.WI)(a.$slots,"default",{submit:(0,i.SU)(ve),saving:(0,i.SU)(_e)})])])])])])],64)):(0,l.kq)("",!0)])}}};var ne=o(68879),te=o(22857),ce=o(8326),de=o(44458),ue=o(32259),me=o(66611),pe=o(1389),_e=o(62470),ge=o(69984),ve=o.n(ge);const fe=re,Se=fe;ve()(re,"components",{QBtn:ne.Z,QIcon:te.Z,QForm:ce.Z,QCard:de.Z,QSelect:ue.Z,QInput:me.Z,QBtnToggle:pe.Z,QSpinnerOval:_e.Z})}}]);